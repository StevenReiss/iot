<body class='data-page'>

{{> topnav}}

<h1>Gnerate Login Code</h1>

<p>
A login code is a random string generated by iQsign
that can be used to uniquely identify the user and sign
for a third party web-based controller such as SmartThings or Catre.
</p>
<p>
Click generate to create a code.  You should save this code as it
will not be shown again.
</p>
<br>
<hl>
<form action='/createcode' id='createcodeform' class='sign-form' method='post'>
   <input id='signid' type='hidden' name='signid' value='{{sign}}' />
   <input id='signuserid' type='hidden' name='signuser' value='{{user}}' />
   <input id='signnamekey' type='hidden' name='signkey' value='{{key}}' />
   <div class='row'>
      <div class='col-3'>Code:</div>
      <div class='col-7'>
	 <input type='text' readonly size='32' id='logincode'>
	 <button id='copycode' type='button'>Copy</button>
      </div>
   </div>
   <div class='row'>
      <div class='col4 offset-3'>
	 <input type='submit' value='Generate Code' />
      </div>
   </div>
</form>

{{> botnav}}

<script>
   $(function () {
      $("#createcodeform").submit(function (event) {
	 handleCreateCode(event);
       });
      $("#copycode").click(function (event) {
	 event.preventDefault();
	 navigator.clipboard.writeText($("#logincode").val());
       });
    });

</script>



</body>
